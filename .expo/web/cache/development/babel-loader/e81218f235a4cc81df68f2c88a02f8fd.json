{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { useState, useEffect, useRef } from \"react\";\nimport * as React from \"react\";\nimport * as Animatable from 'react-native-animatable';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport { getAuth, createUserWithEmailAndPassword } from \"firebase/auth\";\nimport Logo from \"../../../assets/logoIcon/logo.png\";\nimport { Icon } from 'react-native-elements';\nimport RNModal from 'react-native-modal';\nimport { getDatabase, ref, set } from \"firebase/database\";\nimport { doc, setDoc, getFirestore, collection, addDoc } from \"firebase/firestore\";\nvar BGColor = \"#4D4A95\";\nvar db = getFirestore();\nexport default function registrar() {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      uname = _useState2[0],\n      setUname = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      email = _useState4[0],\n      setEmail = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      password = _useState6[0],\n      setPassword = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      rnmodalVisible = _useState8[0],\n      setRNModalVisible = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      rnmodalVisible2 = _useState10[0],\n      setRNModalVisible2 = _useState10[1];\n\n  var _useState11 = useState(),\n      _useState12 = _slicedToArray(_useState11, 2),\n      denyFX = _useState12[0],\n      setDenyFX = _useState12[1];\n\n  var registerFB = function registerFB() {\n    var auth = getAuth();\n    createUserWithEmailAndPassword(auth, email, password).then(function _callee(userCredential) {\n      var user, docRef;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              user = userCredential.user;\n              setDenyFX('pulse');\n              setTimeout(function () {\n                setDenyFX('');\n              }, 1000);\n              setRNModalVisible(true);\n              _context.prev = 4;\n              _context.next = 7;\n              return _regeneratorRuntime.awrap(setDoc(doc(db, \"usuarios\", user.uid), {\n                name: uname,\n                email: user.email,\n                id: user.uid,\n                foto: user.photoURL\n              }));\n\n            case 7:\n              docRef = _context.sent;\n              _context.next = 13;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](4);\n              console.error(\"Error adding document: \", _context.t0);\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[4, 10]], Promise);\n    }).catch(function (error) {\n      setDenyFX('wobble');\n      setTimeout(function () {\n        setDenyFX('');\n      }, 1000);\n      setRNModalVisible2(true);\n      var errorCode = error.code;\n      var errorMessage = error.message;\n    });\n  };\n\n  return React.createElement(TouchableWithoutFeedback, {\n    onPress: function onPress() {\n      return Keyboard.dismiss();\n    }\n  }, React.createElement(View, {\n    style: styles.container\n  }, React.createElement(View, {\n    style: styles.centerizedView\n  }, React.createElement(View, {\n    style: styles.authBox\n  }, React.createElement(View, {\n    style: styles.logoBox\n  }, React.createElement(Animatable.Image, {\n    source: Logo,\n    style: {\n      height: 125,\n      width: 125\n    },\n    animation: \"rubberBand\",\n    duration: 2500,\n    delay: 2500,\n    useNativeDriver: true,\n    iterationCount: Infinity\n  })), React.createElement(Text, {\n    style: styles.loginTitleText\n  }, \"Cadastrar\"), React.createElement(RNModal, {\n    isVisible: rnmodalVisible,\n    animationIn: \"bounceInDown\",\n    animationOut: \"rotate\"\n  }, React.createElement(View, {\n    style: styles.rnmodalView\n  }, React.createElement(Text, {\n    style: {\n      fontSize: 18,\n      fontWeight: '700'\n    }\n  }, \"Cadastrado feito!\"), React.createElement(Text, {\n    style: {\n      marginVertical: 10\n    }\n  }, \"Use essas credenciais para entrar na sua conta na pr\\xF3xima vez.\"), React.createElement(View, {\n    style: {\n      flexDirection: 'row',\n      justifyContent: 'flex-end'\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: styles.modalButton,\n    onPress: function onPress() {\n      return setRNModalVisible(false);\n    }\n  }, React.createElement(Text, {\n    style: styles.modalButtonText\n  }, \"OK\"))))), React.createElement(RNModal, {\n    isVisible: rnmodalVisible2,\n    animationIn: \"shake\",\n    animationOut: \"fadeOutDownBig\"\n  }, React.createElement(View, {\n    style: styles.rnmodalView\n  }, React.createElement(Text, {\n    style: {\n      fontSize: 18,\n      fontWeight: '700'\n    }\n  }, \"Usu\\xE1io inv\\xE1lido!\"), React.createElement(Text, {\n    style: {\n      marginVertical: 10\n    }\n  }, \"N\\xE3o foi poss\\xEDvel cadastrar com esta conta. Tente cadastrar com outra.\"), React.createElement(View, {\n    style: {\n      flexDirection: 'row',\n      justifyContent: 'flex-end'\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: styles.modalButton,\n    onPress: function onPress() {\n      return setRNModalVisible2(false);\n    }\n  }, React.createElement(Text, {\n    style: styles.modalButtonText\n  }, \"OK\"))))), React.createElement(View, {\n    style: styles.inputBox\n  }, React.createElement(Icon, {\n    style: styles.inputIcon,\n    name: \"person\",\n    type: \"ionicons\",\n    color: \"#5352ed\"\n  }), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"Nome\",\n    autoCapitalize: \"none\",\n    keyboardType: \"default\",\n    textContentType: \"name\",\n    onChangeText: setUname\n  })), React.createElement(View, {\n    style: styles.inputBox\n  }, React.createElement(Icon, {\n    style: styles.inputIcon,\n    name: \"alternate_email\",\n    type: \"material\",\n    color: \"#5352ed\"\n  }), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"Email\",\n    autoCapitalize: \"none\",\n    keyboardType: \"email-address\",\n    textContentType: \"emailAddress\",\n    onChangeText: setEmail\n  })), React.createElement(View, {\n    style: styles.inputBox\n  }, React.createElement(Icon, {\n    style: styles.inputIcon,\n    name: \"lock\",\n    type: \"ionicons\",\n    color: \"#5352ed\"\n  }), React.createElement(TextInput, {\n    placeholder: \"Senha\",\n    style: styles.input,\n    autoCapitalize: \"none\",\n    secureTextEntry: true,\n    textContentType: \"password\",\n    onChangeText: setPassword\n  })), React.createElement(TouchableOpacity, {\n    style: styles.loginButton,\n    onPress: registerFB\n  }, React.createElement(Animatable.Text, {\n    animation: denyFX,\n    style: styles.loginButtonText\n  }, \"Cadastrar\"))))));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    position: 'relative',\n    backgroundColor: BGColor,\n    justifyContent: 'center'\n  },\n  centerizedView: {\n    width: '100%'\n  },\n  authBox: {\n    width: '80%',\n    backgroundColor: '#fafafa',\n    borderRadius: 20,\n    alignSelf: 'center',\n    paddingHorizontal: 14,\n    paddingBottom: 30,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5\n  },\n  logoBox: {\n    backgroundColor: BGColor,\n    borderRadius: 1000,\n    alignSelf: 'center',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    top: -50,\n    marginBottom: -50,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 1\n    },\n    shadowOpacity: 0.2,\n    shadowRadius: 1.41,\n    elevation: 20\n  },\n  loginTitleText: {\n    fontSize: 26,\n    fontWeight: 'bold',\n    marginTop: '5%',\n    marginBottom: '3%'\n  },\n  inputBox: {\n    height: 40,\n    borderRadius: 10,\n    backgroundColor: '#f1f3f6',\n    marginTop: 10,\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  inputLabel: {\n    fontSize: 18,\n    marginBottom: 6\n  },\n  input: {\n    height: 40,\n    flex: 1,\n    fontFamily: 'SSPRegular',\n    fontSize: 16,\n    color: '#333'\n  },\n  loginButton: {\n    backgroundColor: BGColor,\n    marginTop: '15%',\n    marginBottom: '5%',\n    paddingVertical: 10,\n    borderRadius: 4\n  },\n  loginButtonText: {\n    color: '#fff',\n    textAlign: 'center',\n    fontSize: 20,\n    fontWeight: 'bold'\n  },\n  registerText: {\n    textAlign: 'center',\n    marginTop: 20,\n    fontSize: 16\n  },\n  forgotPasswordText: {\n    textAlign: 'center',\n    marginTop: 12,\n    fontSize: 16\n  },\n  inputIcon: {\n    paddingHorizontal: 8\n  },\n  rnmodalView: {\n    backgroundColor: 'white',\n    borderRadius: 8,\n    paddingHorizontal: 10,\n    paddingVertical: 14,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5\n  },\n  modalButton: {\n    backgroundColor: BGColor,\n    paddingVertical: 6,\n    paddingHorizontal: 10,\n    borderRadius: 4,\n    marginLeft: 10,\n    elevation: 2,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 2,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.5\n  },\n  modalButtonText: {\n    color: '#fff',\n    fontSize: 16\n  }\n});","map":{"version":3,"sources":["C:/Users/lenil/Documents/Estudos/JS/quizApp/src/pages/registrar/registrar.js"],"names":["useState","useEffect","useRef","React","Animatable","getAuth","createUserWithEmailAndPassword","Logo","Icon","RNModal","getDatabase","ref","set","doc","setDoc","getFirestore","collection","addDoc","BGColor","db","registrar","uname","setUname","email","setEmail","password","setPassword","rnmodalVisible","setRNModalVisible","rnmodalVisible2","setRNModalVisible2","denyFX","setDenyFX","registerFB","auth","then","userCredential","user","setTimeout","uid","name","id","foto","photoURL","docRef","console","error","catch","errorCode","code","errorMessage","message","Keyboard","dismiss","styles","container","centerizedView","authBox","logoBox","height","width","Infinity","loginTitleText","rnmodalView","fontSize","fontWeight","marginVertical","flexDirection","justifyContent","modalButton","modalButtonText","inputBox","inputIcon","input","loginButton","loginButtonText","StyleSheet","create","flex","position","backgroundColor","borderRadius","alignSelf","paddingHorizontal","paddingBottom","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","display","alignItems","top","marginBottom","marginTop","inputLabel","fontFamily","color","paddingVertical","textAlign","registerText","forgotPasswordText","marginLeft"],"mappings":"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","sourcesContent":["import { useState, useEffect, useRef } from \"react\";\r\nimport * as React from \"react\";\r\nimport * as Animatable from 'react-native-animatable'\r\nimport {\r\n  StyleSheet,\r\n  Text,\r\n  View,\r\n  TextInput,\r\n  Image,\r\n  Dimensions,\r\n  TouchableOpacity,\r\n  TouchableWithoutFeedback,\r\n  Keyboard,\r\n} from 'react-native';\r\nimport { getAuth, createUserWithEmailAndPassword } from \"firebase/auth\";\r\nimport Logo from '../../../assets/logoIcon/logo.png';\r\nimport { Icon } from 'react-native-elements';\r\nimport RNModal from 'react-native-modal';\r\nimport { getDatabase, ref, set } from \"firebase/database\";\r\nimport { doc, setDoc, getFirestore, collection, addDoc } from \"firebase/firestore\";\r\n\r\nconst BGColor = \"#4D4A95\"\r\nconst db = getFirestore();\r\n\r\nexport default function registrar() {\r\n\r\n    const [uname,setUname] = useState('');\r\n    const [email,setEmail] = useState('');\r\n    const [password,setPassword] = useState('');\r\n    const [rnmodalVisible, setRNModalVisible] = useState(false);\r\n    const [rnmodalVisible2, setRNModalVisible2] = useState(false);\r\n    const [denyFX, setDenyFX] = useState();\r\n\r\n    const registerFB = () => {\r\n\r\n        const auth = getAuth();\r\n        createUserWithEmailAndPassword(auth, email, password)\r\n          .then( async(userCredential) => {\r\n\r\n            // Signed in\r\n            const user = userCredential.user;\r\n\r\n            setDenyFX('pulse')\r\n\r\n            setTimeout(() => {\r\n            setDenyFX('')\r\n            }, 1000);\r\n\r\n            setRNModalVisible(true);\r\n\r\n            try {\r\n              const docRef = await setDoc(doc(db, \"usuarios\", user.uid), {\r\n                name: uname,\r\n                email: user.email,\r\n                id: user.uid,\r\n                foto: user.photoURL,\r\n              });\r\n            } catch (e) {\r\n              console.error(\"Error adding document: \", e);\r\n            }\r\n\r\n          })\r\n          .catch((error) => {\r\n\r\n            setDenyFX('wobble')\r\n\r\n            setTimeout(() => {\r\n                setDenyFX('')\r\n              }, 1000);\r\n\r\n            setRNModalVisible2(true);\r\n            const errorCode = error.code;\r\n            const errorMessage = error.message;\r\n            // ..\r\n          });\r\n      \r\n      }\r\n\r\n  return (\r\n    <TouchableWithoutFeedback onPress={() => Keyboard.dismiss()}>\r\n      <View style={styles.container}>\r\n        <View style={styles.centerizedView}>\r\n          <View style={styles.authBox}>\r\n            <View style={styles.logoBox}>\r\n            <Animatable.Image \r\n          source={Logo} \r\n          style={{\r\n            height: 125, \r\n            width: 125,\r\n          }}\r\n          animation='rubberBand'\r\n          duration={2500}\r\n          delay={2500}\r\n          useNativeDriver\r\n          iterationCount={Infinity}\r\n            />\r\n            </View>\r\n            <Text style={styles.loginTitleText}>Cadastrar</Text>\r\n\r\n            <RNModal isVisible={rnmodalVisible} animationIn='bounceInDown' animationOut='rotate'>\r\n                <View style={styles.rnmodalView}>\r\n                    <Text style={{fontSize: 18, fontWeight: '700'}}>Cadastrado feito!</Text>\r\n                    <Text style={{marginVertical: 10}}>Use essas credenciais para entrar na sua conta na próxima vez.</Text>\r\n                    <View style={{flexDirection: 'row', justifyContent: 'flex-end'}}>\r\n                        <TouchableOpacity style={styles.modalButton} onPress={() => setRNModalVisible(false)}><Text style={styles.modalButtonText}>OK</Text></TouchableOpacity>\r\n                    </View>\r\n                </View>\r\n            </RNModal>\r\n\r\n            <RNModal isVisible={rnmodalVisible2} animationIn='shake' animationOut='fadeOutDownBig'>\r\n                <View style={styles.rnmodalView}>\r\n                    <Text style={{fontSize: 18, fontWeight: '700'}}>Usuáio inválido!</Text>\r\n                    <Text style={{marginVertical: 10}}>Não foi possível cadastrar com esta conta. Tente cadastrar com outra.</Text>\r\n                    <View style={{flexDirection: 'row', justifyContent: 'flex-end'}}>\r\n                        <TouchableOpacity style={styles.modalButton} onPress={() => setRNModalVisible2(false)}><Text style={styles.modalButtonText}>OK</Text></TouchableOpacity>\r\n                    </View>\r\n                </View>\r\n            </RNModal>\r\n\r\n            <View style={styles.inputBox}>\r\n            <Icon\r\n              style={styles.inputIcon}\r\n              name='person'\r\n              type='ionicons'\r\n              color='#5352ed'\r\n            />\r\n              <TextInput\r\n                style={styles.input}\r\n                placeholder='Nome'\r\n                autoCapitalize='none'\r\n                keyboardType='default'\r\n                textContentType='name'\r\n                onChangeText={setUname}\r\n              />\r\n            </View>\r\n            <View style={styles.inputBox}>\r\n            <Icon\r\n              style={styles.inputIcon}\r\n              name='alternate_email'\r\n              type='material'\r\n              color='#5352ed'\r\n            />\r\n              <TextInput\r\n                style={styles.input}\r\n                placeholder='Email'\r\n                autoCapitalize='none'\r\n                keyboardType='email-address'\r\n                textContentType='emailAddress'\r\n                onChangeText={setEmail}\r\n              />\r\n            </View>\r\n            <View style={styles.inputBox}>\r\n            <Icon\r\n              style={styles.inputIcon}\r\n              name='lock'\r\n              type='ionicons'\r\n              color='#5352ed'\r\n            />\r\n              <TextInput\r\n                placeholder='Senha'\r\n                style={styles.input}\r\n                autoCapitalize='none'\r\n                secureTextEntry={true}\r\n                textContentType='password'\r\n                onChangeText={setPassword}\r\n              />\r\n            </View>\r\n            <TouchableOpacity style={styles.loginButton} onPress={registerFB}>\r\n              <Animatable.Text animation={denyFX} style={styles.loginButtonText}>Cadastrar</Animatable.Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    </TouchableWithoutFeedback>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    position: 'relative',\r\n    backgroundColor: BGColor,\r\n    justifyContent: 'center'\r\n  },\r\n  centerizedView: {\r\n    width: '100%',\r\n  },\r\n  authBox: {\r\n    width: '80%',\r\n    backgroundColor: '#fafafa',\r\n    borderRadius: 20,\r\n    alignSelf: 'center',\r\n    paddingHorizontal: 14,\r\n    paddingBottom: 30,\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n  },\r\n  logoBox: {\r\n    backgroundColor: BGColor,\r\n    borderRadius: 1000,\r\n    alignSelf: 'center',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    top: -50,\r\n    marginBottom: -50,\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 1,\r\n    },\r\n    shadowOpacity: 0.2,\r\n    shadowRadius: 1.41,\r\n    elevation: 20,\r\n  },\r\n  loginTitleText: {\r\n    fontSize: 26,\r\n    fontWeight: 'bold',\r\n    marginTop: '5%',\r\n    marginBottom: '3%'\r\n  },\r\n  inputBox: {\r\n    height: 40,\r\n    borderRadius: 10,\r\n    backgroundColor: '#f1f3f6',\r\n    marginTop: 10,\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  inputLabel: {\r\n    fontSize: 18,\r\n    marginBottom: 6,\r\n  },\r\n  input: {\r\n    height: 40,\r\n    flex: 1,\r\n    fontFamily: 'SSPRegular',\r\n    fontSize: 16,\r\n    color: '#333',\r\n  },\r\n  loginButton: {\r\n    backgroundColor: BGColor,\r\n    marginTop: '15%',\r\n    marginBottom: '5%',\r\n    paddingVertical: 10,\r\n    borderRadius: 4,\r\n  },\r\n  loginButtonText: {\r\n    color: '#fff',\r\n    textAlign: 'center',\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n  },\r\n  registerText: {\r\n    textAlign: 'center',\r\n    marginTop: 20,\r\n    fontSize: 16,\r\n  },\r\n  forgotPasswordText: {\r\n    textAlign: 'center',\r\n    marginTop: 12,\r\n    fontSize: 16,\r\n  },\r\n  inputIcon: {\r\n    paddingHorizontal: 8,\r\n  },\r\n  rnmodalView: {\r\n      backgroundColor: 'white',\r\n      borderRadius: 8,\r\n      paddingHorizontal: 10,\r\n      paddingVertical: 14,\r\n      shadowColor: '#000',\r\n      shadowOffset:{\r\n          width: 0,\r\n          height: 2\r\n      },\r\n      shadowOpacity: 0.25,\r\n      shadowRadius: 3.84,\r\n      elevation: 5\r\n  },\r\n  modalButton: {\r\n      backgroundColor: BGColor,\r\n      paddingVertical: 6,\r\n      paddingHorizontal: 10,\r\n      borderRadius: 4,\r\n      marginLeft: 10,\r\n      elevation: 2,\r\n      shadowColor: '#000',\r\n      shadowOffset:{\r\n          width: 2,\r\n          height: 2,\r\n      },\r\n      shadowOpacity: 0.25,\r\n      shadowRadius: 3.5\r\n  },\r\n  modalButtonText: {\r\n      color: '#fff',\r\n      fontSize: 16\r\n  }\r\n});"]},"metadata":{},"sourceType":"module"}